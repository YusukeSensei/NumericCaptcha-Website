<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>
   Numeric Captcha Prototype
  </title>
  <script src="https://cdn.tailwindcss.com">
  </script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <style>
   @import url("https://fonts.googleapis.com/css2?family=Noto+Serif:ital@1&family=Poppins:wght@400;500;600&display=swap");
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Poppins", sans-serif;
    }
    ::selection {
      color: #fff;
      background: #06c59c;
    }
    body {
      background: #a5f5fd;
      min-height: 100vh;
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 1rem;
    }
    .wrapper {
      position: relative;
      max-width: 485px;
      width: 100%;
      background: #fff;
      padding: 22px 30px 40px;
      border-radius: 10px;
      box-shadow: 8px 8px 8px rgba(0, 0, 0, 0.05);
      font-family: "Poppins", sans-serif;
      display: flex;
      flex-direction: column;
      height: 600px;
    }
    .wrapper header {
      color: #1b2ed1;
      font-size: 33px;
      font-weight: 500;
      text-align: center;
      margin-bottom: 1.5rem;
      flex-shrink: 0;
    }
    .wrapper .captcha-area {
      display: flex;
      height: 65px;
      margin: 30px 0 20px;
      align-items: center;
      justify-content: space-between;
      flex-shrink: 0;
    }
    .captcha-area .captcha-img {
      height: 100%;
      width: 345px;
      user-select: none;
      background: #000;
      border-radius: 5px;
      position: relative;
      flex-shrink: 0;
    }
    .captcha-img img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 5px;
      opacity: 0.95;
    }
    .captcha-img .captcha {
      position: absolute;
      left: 50%;
      top: 50%;
      width: 100%;
      color: #fff;
      font-size: 35px;
      text-align: center;
      letter-spacing: 10px;
      transform: translate(-50%, -50%);
      text-shadow: 0px 0px 2px #b1b1b1;
      font-family: "Noto Serif", serif;
      user-select: none;
    }
    .wrapper button {
      outline: none;
      border: none;
      color: #fff;
      cursor: pointer;
      background: #1b2ed1;
      border-radius: 5px;
      transition: all 0.3s ease;
    }
    .wrapper button:hover {
      background: #d1ce00;
      color: black;
    }
    .captcha-area .reload-btn {
      width: 75px;
      height: 100%;
      font-size: 25px;
      flex-shrink: 0;
    }
    .captcha-area .reload-btn i {
      transition: transform 0.3s ease;
    }
    .captcha-area .reload-btn:hover i {
      transform: rotate(15deg);
    }
    .wrapper .input-area {
      width: 100%;
      display: flex;
      gap: 0.5rem;
      margin-top: 1rem;
      flex-shrink: 0;
      height: 60px;
    }
    .input-area input {
      flex-grow: 1;
      height: 100%;
      outline: none;
      padding-left: 20px;
      font-size: 20px;
      border-radius: 5px;
      border: 1px solid #bfbfbf;
    }
    .input-area input:is(:focus, :valid) {
      padding-left: 19px;
      border: 2px solid #000000;
    }
    .input-area input::placeholder {
      color: #bfbfbf;
    }
    .input-area .check-btn {
      flex-shrink: 0;
      height: 100%;
      padding: 0 20px;
      font-size: 17px;
      border-radius: 5px;
      opacity: 1;
      pointer-events: auto;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .wrapper .status-text {
      display: none;
      font-size: 18px;
      text-align: center;
      margin: 20px 0 -5px;
      flex-shrink: 0;
      font-weight: 600;
    }
    .footer {
      position: absolute;
      top: 90%;
      left: 7%;
      font-size: 12px;
      color: #1b2ed1;
    }
    #captcha-counter {
      color: black;
      font-weight: 600;
      font-size: 1rem;
      margin-bottom: 1rem;
      text-align: center;
      flex-shrink: 0;
    }
    #success-modal {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 50;
      visibility: hidden;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    #success-modal.show {
      visibility: visible;
      opacity: 1;
    }
    #success-modal .modal-content {
      background: white;
      padding: 1.5rem 2rem;
      border-radius: 0.5rem;
      max-width: 320px;
      text-align: center;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    }
    #success-modal button {
      margin-top: 1rem;
      background: #1b2ed1;
      color: white;
      border: none;
      padding: 0.5rem 1.5rem;
      border-radius: 0.375rem;
      cursor: pointer;
      font-weight: 600;
      font-size: 1rem;
      transition: background-color 0.3s ease;
    }
    #success-modal button:hover {
      background: #d1ce00;
      color: black;
    }
    #welcome-overlay {
      position: fixed;
      inset: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 100;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.5s ease;
      user-select: none;
      overflow: hidden;
      padding: 1rem;
    }
    #welcome-overlay.show {
      opacity: 1;
      visibility: visible;
    }
    #welcome-overlay .background-split {
      position: absolute;
      inset: 0;
      display: flex;
      width: 100%;
      height: 100%;
      z-index: -1;
    }
    #welcome-overlay .background-split > div {
      flex: 1;
      height: 100%;
    }
    #welcome-overlay .background-split > div.left,
    #welcome-overlay .background-split > div.right {
      background-color: #2e3042;
    }
    #welcome-overlay .background-split > div.center {
      background-color: white;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 2rem 1rem;
      box-sizing: border-box;
      overflow-y: auto;
      max-height: 100vh;
    }
    #welcome-overlay .center-content {
      max-width: 360px;
      text-align: center;
      color: black;
      user-select: text;
      display: flex;
      flex-direction: column;
      height: 100%;
    }
    #welcome-overlay img {
      max-width: 150px;
      max-height: 150px;
      margin-bottom: 1.5rem;
      border-radius: 0.5rem;
      object-fit: cover;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
      display: block;
      margin-left: auto;
      margin-right: auto;
      flex-shrink: 0;
    }
    #welcome-overlay p {
      font-size: 1rem;
      line-height: 1.5;
      margin: 0 0 1rem 0;
      flex-shrink: 0;
    }
    #welcome-overlay .scrollable-text {
      overflow-y: auto;
      flex-grow: 1;
      padding-right: 0.5rem;
      text-align: left;
    }
    #welcome-overlay .scrollable-text::-webkit-scrollbar {
      width: 8px;
    }
    #welcome-overlay .scrollable-text::-webkit-scrollbar-thumb {
      background-color: #1b2ed1;
      border-radius: 4px;
    }
    #welcome-overlay .scrollable-text::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 4px;
    }
    @media (max-width: 520px) {
      .wrapper {
        height: 100vh;
        max-width: 100%;
        padding: 16px 20px 30px;
      }
      .captcha-area {
        flex-wrap: wrap;
        gap: 0.5rem;
        justify-content: center;
      }
      .captcha-area .captcha-img {
        width: 100%;
        max-width: 100%;
        height: 65px;
        margin-bottom: 0.5rem;
      }
      .captcha-area .reload-btn {
        width: 50px;
        height: 65px;
        font-size: 20px;
        flex-shrink: 0;
        display: none;
      }
      .wrapper header {
        font-size: 28px;
        margin-bottom: 1rem;
      }
      #welcome-overlay .background-split {
        background: white;
        flex-direction: column;
      }
      #welcome-overlay .background-split > div.left,
      #welcome-overlay .background-split > div.right {
        display: none;
      }
      #welcome-overlay .background-split > div.center {
        width: 100%;
        height: 100%;
        padding: 1rem;
        background: white;
      }
      #welcome-overlay img {
        max-width: 120px;
        max-height: 120px;
        margin: 0 auto 1rem;
      }
      #welcome-overlay .center-content {
        height: 100%;
        padding: 1rem;
      }
      #welcome-overlay .scrollable-text {
        max-height: calc(100% - 200px);
      }
      .wrapper .input-area {
        flex-direction: column;
        height: auto;
        margin-top: 0.5rem;
      }
      .input-area input,
      .input-area .check-btn {
        width: 100%;
        height: 50px;
      }
      .input-area .check-btn {
        margin-top: 0.5rem;
      }
      .reload-btn-mobile {
        width: 100%;
        height: 50px;
        font-size: 20px;
        margin-bottom: 0.5rem;
        border-radius: 5px;
        background: #1b2ed1;
        color: white;
        cursor: pointer;
        border: none;
        transition: all 0.3s ease;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .reload-btn-mobile:hover {
        background: #d1ce00;
        color: black;
      }
      .reload-btn-mobile i {
        transition: transform 0.3s ease;
      }
      .reload-btn-mobile:hover i {
        transform: rotate(15deg);
      }
    }
  </style>
 </head>
 <body>
  <div aria-hidden="true" aria-label="Numeric Captcha challenge" class="wrapper mt-10 max-w-md w-full bg-white rounded shadow-lg p-6" id="captcha-wrapper" role="region">
   <header>
    Numeric Captcha
   </header>
   <div aria-atomic="true" aria-live="polite" id="captcha-counter">
    Captcha completed: 0 / 5
   </div>
   <div class="captcha-area">
    <div aria-label="Captcha background and code" class="captcha-img">
     <img alt="Black background with subtle noise texture for numeric captcha" height="65" src="captcha-bg.png" width="345"/>
     <span aria-atomic="true" aria-live="polite" class="captcha">
     </span>
    </div>
    <button aria-label="Reload captcha" class="reload-btn" type="button">
     <i class="fas fa-redo-alt">
     </i>
    </button>
   </div>
   <button aria-label="Reload captcha" class="reload-btn-mobile" type="button">
    <i class="fas fa-redo-alt">
    </i>
   </button>
   <form action="#" autocomplete="off" class="input-area" id="captcha-form">
    <input aria-label="Enter captcha" maxlength="6" placeholder="Enter captcha" required="" spellcheck="false" type="text"/>
    <button class="check-btn" type="submit">
     Check
    </button>
   </form>
   <div aria-live="assertive" class="status-text" role="alert">
   </div>
  </div>
  <div aria-describedby="modal-desc" aria-labelledby="modal-title" aria-modal="true" id="success-modal" role="dialog">
   <div class="modal-content">
    <h2 class="text-lg font-semibold" id="modal-title">
     Success
    </h2>
    <p class="mt-2" id="modal-desc">
     Nice! You don't appear to be a robot.
    </p>
    <button id="modal-ok-btn" type="button">
     OK
    </button>
   </div>
  </div>
  <div aria-atomic="true" aria-live="assertive" id="welcome-overlay" role="alert">
   <div aria-hidden="true" class="background-split">
    <div class="left">
    </div>
    <div class="center">
     <div class="center-content">
      <img alt="Sample scenic landscape with mountains, lake, and clear blue sky" height="150" src="hci.jpg" width="150"/>
      <div class="scrollable-text" tabindex="0">
       <p>
        Good morning/afternoon/evening, and thank you for taking the time to speak with us today. We truly appreciate your willingness to contribute to our Human-Computer Interaction research project focused on CAPTCHAs. Your insights are invaluable to the success of this study.
       </p>
       <p>
        Before we begin the interview, we want to ensure you are fully aware of the nature of this research and your rights as a participant. This interview is part of a larger project aimed at understanding user experiences and perceptions regarding CAPTCHA systems. Your feedback will help us identify areas for improvement and potentially inform the design of more user-friendly and effective security measures.
       </p>
       <p>
        Participation in this interview is entirely voluntary. You have the right to decline to answer any question or to withdraw from the interview at any point without any consequence. Your decision, whether to participate or not, will not affect your relationship with us or any affiliated institutions.
       </p>
       <p>
        During the interview, we will be asking you questions about your experiences with CAPTCHAs, including your perceptions of their difficulty, usability, and security. We may also ask about your general experiences with online security measures. The interview is expected to last approximately 5-10mins.
       </p>
       <p>
        We want to assure you that your responses will be kept confidential. Any data collected during this interview will be anonymized and will not be linked back to you personally in any reports or publications resulting from this research. We will be storing the data securely and will only use it for the purposes of this research project.
       </p>
       <p>
        We understand the importance of your privacy and ethical research practices. This research project has been reviewed by our instructor, approved by the head chairperson. We are committed to conducting this research with the highest ethical standards.
       </p>
       <p>
        By proceeding with this interview, you are indicating that you understand the information provided and voluntarily agree to participate.
       </p>
       <p>
        Do you have any questions or require any clarification before we begin? if no you can check the box if you agree to participate.
       </p>
      </div>
     </div>
    </div>
    <div class="right">
    </div>
   </div>
  </div>
  <script>
   const captchaWrapper = document.getElementById("captcha-wrapper");
    const captchaCounterDisplay = document.getElementById("captcha-counter");
    const statusTxt = document.querySelector(".status-text");
    const successModal = document.getElementById("success-modal");
    const modalOkBtn = document.getElementById("modal-ok-btn");
    const welcomeOverlay = document.getElementById("welcome-overlay");

    const captcha = document.querySelector(".captcha"),
      reloadBtn = document.querySelector(".reload-btn"),
      reloadBtnMobile = document.querySelector(".reload-btn-mobile"),
      inputField = document.querySelector(".input-area input"),
      checkBtn = document.querySelector(".check-btn");

    let captchaSuccessCount = 0;
    const captchaSuccessTarget = 5;

    let allCharacters = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];

    function getCaptcha() {
      captcha.innerText = "";
      for (let i = 0; i < 6; i++) {
        let randomCharacter =
          allCharacters[Math.floor(Math.random() * allCharacters.length)];
        captcha.innerText += ` ${randomCharacter}`;
      }
    }
    getCaptcha();

    function reloadCaptcha() {
      removeContent();
      getCaptcha();
      inputField.focus();
      statusTxt.textContent = "";
    }

    reloadBtn.addEventListener("click", reloadCaptcha);
    reloadBtnMobile.addEventListener("click", reloadCaptcha);

    const captchaForm = document.getElementById("captcha-form");
    captchaForm.addEventListener("submit", (e) => {
      e.preventDefault();
      let inputVal = inputField.value.split("").join(" ");
      if (inputVal === captcha.innerText) {
        captchaSuccessCount++;
        updateCounter();
        removeContent();
        getCaptcha();
        if (captchaSuccessCount >= captchaSuccessTarget) {
          statusTxt.textContent = "";
          successModal.classList.add("show");
          inputField.disabled = true;
          checkBtn.disabled = true;
          reloadBtn.disabled = true;
          reloadBtnMobile.disabled = true;
        } else {
          inputField.focus();
          statusTxt.textContent = "";
        }
      } else {
        statusTxt.style.color = "#ff0000";
        statusTxt.textContent = "Captcha not matched. Please try again!";
      }
    });

    modalOkBtn.addEventListener("click", () => {
      successModal.classList.remove("show");
      captchaWrapper.style.display = "none";
      welcomeOverlay.classList.add("show");
      setTimeout(() => {
        welcomeOverlay.classList.remove("show");
        captchaWrapper.style.display = "block";
        inputField.disabled = false;
        checkBtn.disabled = false;
        reloadBtn.disabled = false;
        reloadBtnMobile.disabled = false;
        captchaSuccessCount = 0;
        updateCounter();
        removeContent();
        getCaptcha();
        inputField.focus();
        statusTxt.textContent = "";
      }, 600000);
    });

    function removeContent() {
      inputField.value = "";
      captcha.innerText = "";
      statusTxt.style.display = "block";
      statusTxt.style.color = "black";
    }

    function updateCounter() {
      captchaCounterDisplay.textContent = `Captcha completed: ${captchaSuccessCount} / ${captchaSuccessTarget}`;
    }

    updateCounter();
  </script>
 </body>
</html>
